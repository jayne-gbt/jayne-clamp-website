<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9Z1G54B1GV"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-9Z1G54B1GV');
    </script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Browse by Tags - Jayne Clamp Photography</title>
    <meta name="description" content="Browse all photo albums by tags. Search by artist, venue, event, or any keyword to find specific photos from Jayne Clamp's photography collection.">
    <meta name="keywords" content="photo tags, search photos, Athens Georgia photography, music photography, event photography, browse photos, photo search">
    
    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Browse by Tags - Jayne Clamp Photography">
    <meta property="og:description" content="Search and browse photo albums by tags, artists, venues, and events.">
    <meta property="og:url" content="https://jayne-clamp.netlify.app/collections/tags.html">
    <meta property="og:site_name" content="Jayne Clamp Photography">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Browse by Tags - Jayne Clamp Photography">
    <meta name="twitter:description" content="Search and browse photo albums by tags.">
    
    <link rel="stylesheet" href="../css/style.css?v=20251122-1500">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="collection-page" data-collection="tags">
    <!-- Header -->
    <header class="site-header">
        <div class="container">
            <h1 class="site-title"><a href="../index.html">Jayne Clamp</a></h1>
            <nav class="main-nav">
                <button class="mobile-menu-toggle" aria-label="Toggle menu">
                    <i class="fas fa-bars"></i>
                </button>
                <ul class="nav-menu">
                    <li class="collections-dropdown">
                        <a href="../index.html#collections" class="collections-trigger">Collections <i class="fas fa-chevron-down"></i></a>
                        <ul class="collections-menu">
                            <li><a href="../collections/music.html">Music</a></li>
                            <li><a href="../collections/events.html">Events</a></li>
                            <li><a href="../collections/travel.html">Travel</a></li>
                            <li><a href="../collections/birds.html">Birds</a></li>
                            <li><a href="../collections/landscapes.html">Landscapes</a></li>
                            <li><a href="../collections/pets.html">Pets</a></li>
                            <li><a href="../collections/tags.html">Tags</a></li>
                            <li><a href="https://www.youtube.com/@jayneclamp" target="_blank" rel="noopener">Videos</a></li>
                        </ul>
                    </li>
                    <li><a href="../contact.html">Contact</a></li>
                    <li class="share-dropdown">
                        <a href="#" class="share-trigger">Share <i class="fas fa-chevron-down"></i></a>
                        <ul class="share-menu">
                            <li><a href="#" onclick="shareToInstagram(); return false;"><i class="fab fa-instagram"></i> Instagram</a></li>
                            <li><a href="#" onclick="shareToThreads(); return false;"><i class="fas fa-at"></i> Threads</a></li>
                            <li><a href="#" onclick="shareToFacebook(); return false;"><i class="fab fa-facebook"></i> Facebook</a></li>
                            <li><a href="#" onclick="shareToPinterest(); return false;"><i class="fab fa-pinterest"></i> Pinterest</a></li>
                            <li><a href="#" onclick="shareToBluesky(); return false;"><i class="fas fa-cloud"></i> Bluesky</a></li>
                        </ul>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Tags & Search Section -->
    <section class="albums-section">
        <div class="container">
            <a href="javascript:history.back()" class="back-button">
                <i class="fas fa-arrow-left"></i> Back
            </a>

            <div class="page-header">
                <h2 class="page-title">Browse by Tags</h2>
                <p class="page-subtitle">Search or click tags to find photos</p>
                <button 
                    onclick="refreshTagsCache()" 
                    style="margin-top: 0.5rem; padding: 0.5rem 1rem; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); border-radius: 6px; color: #fff; cursor: pointer; font-size: 0.85rem; transition: all 0.3s ease;"
                    onmouseover="this.style.background='rgba(255,255,255,0.2)'"
                    onmouseout="this.style.background='rgba(255,255,255,0.1)'"
                >
                    <i class="fas fa-sync-alt"></i> Refresh Tags
                </button>
            </div>

            <!-- Two Column Layout: Sidebar + Main Content -->
            <div style="display: flex; gap: 2rem; margin-top: 2rem; flex-wrap: wrap;">
                
                <!-- Sidebar: Tags -->
                <aside style="flex: 0 0 250px; min-width: 250px;">
                    <div id="all-tags" style="position: sticky; top: 1rem;">
                        <h3 style="color: #ccc; font-size: 1rem; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 1px solid rgba(255,255,255,0.1);">All Tags</h3>
                        <div id="tags-container" style="max-height: 70vh; overflow-y: auto; padding-right: 0.5rem;">
                            <!-- Tags will be populated by JavaScript -->
                            <p style="color: #999; font-size: 0.9rem;">Loading tags...<br><span style="font-size: 0.85rem; opacity: 0.7;">Photos will appear as they're found</span></p>
                        </div>
                    </div>
                </aside>

                <!-- Main Content: Search + Photos -->
                <main style="flex: 1; min-width: 300px;">
                    <!-- Search Bar -->
                    <div style="margin-bottom: 2rem;">
                        <div style="position: relative;">
                            <input 
                                type="text" 
                                id="tag-search" 
                                placeholder="Search by tag, artist, venue, event..." 
                                style="width: 100%; padding: 1rem 5.5rem 1rem 1rem; font-size: 1rem; border: 2px solid rgba(255,255,255,0.2); border-radius: 8px; background: rgba(255,255,255,0.05); color: #fff;"
                            >
                            <button 
                                id="clear-filter-btn"
                                onclick="clearTagFilter()"
                                style="position: absolute; right: 3.5rem; top: 50%; transform: translateY(-50%); background: none; border: none; color: #ccc; cursor: pointer; padding: 0.5rem; border-radius: 4px; transition: all 0.3s ease; display: none;"
                                onmouseover="this.style.color='#fff'; this.style.background='rgba(255,255,255,0.1)'"
                                onmouseout="this.style.color='#ccc'; this.style.background='none'"
                                title="Clear filter"
                            >
                                <i class="fas fa-times"></i>
                            </button>
                            <i class="fas fa-search" style="position: absolute; right: 1rem; top: 50%; transform: translateY(-50%); color: #999; pointer-events: none;"></i>
                        </div>
                    </div>

                    <!-- Results Section -->
                    <div id="results-section">
                        <h3 id="results-title" style="color: #ccc; font-size: 1.1rem; margin-bottom: 1.5rem; display: none;">Results</h3>
                        <div id="photos-grid" class="photos-grid">
                            <!-- Photos will be populated by JavaScript -->
                        </div>
                        
                        <!-- Videos Section -->
                        <div id="videos-section" style="margin-top: 3rem; display: none;">
                            <h3 id="videos-title" style="color: #ccc; font-size: 1.1rem; margin-bottom: 1.5rem;">Videos</h3>
                            <div id="videos-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 2rem;">
                                <!-- Videos will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </main>

            </div>
        </div>
    </section>
    
    <style>
        /* Responsive: Stack sidebar on mobile */
        @media (max-width: 768px) {
            section .container > div {
                flex-direction: column !important;
            }
            aside {
                flex: 1 !important;
                min-width: 100% !important;
                max-width: 100% !important;
            }
            #all-tags {
                position: static !important;
            }
            #tags-container {
                max-height: 200px !important;
                display: flex;
                flex-wrap: wrap;
                gap: 0.5rem;
            }
        }
    </style>

    <!-- Lightbox -->
    <div id="lightbox">
        <div class="lightbox-content">
            <button class="lightbox-share" onclick="toggleLightboxShare()">
                <i class="fas fa-ellipsis-h"></i>
            </button>
            <div class="lightbox-share-menu" id="lightbox-share-menu">
                <a href="#" onclick="shareLightboxPhoto('instagram'); return false;"><i class="fab fa-instagram"></i></a>
                <a href="#" onclick="shareLightboxPhoto('threads'); return false;"><i class="fas fa-at"></i></a>
                <a href="#" onclick="shareLightboxPhoto('facebook'); return false;"><i class="fab fa-facebook"></i></a>
                <a href="#" onclick="shareLightboxPhoto('pinterest'); return false;"><i class="fab fa-pinterest"></i></a>
                <a href="#" onclick="shareLightboxPhoto('copy'); return false;"><i class="fas fa-link"></i></a>
            </div>
            <button class="lightbox-close" onclick="closeLightbox()">&times;</button>
            <button class="lightbox-nav lightbox-prev" onclick="prevLightboxImage()">
                <i class="fas fa-chevron-left"></i>
            </button>
            <img id="lightbox-img" src="" alt="Photo">
            <button class="lightbox-nav lightbox-next" onclick="nextLightboxImage()">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
    </div>

    <!-- Back to Top Button -->
    <div class="container" style="text-align: center; padding: 2rem 0;">
        <button 
            onclick="scrollToTop()" 
            style="padding: 0.75rem 1.5rem; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); border-radius: 8px; color: #fff; cursor: pointer; font-size: 1rem; transition: all 0.3s ease; display: inline-flex; align-items: center; gap: 0.5rem;"
            onmouseover="this.style.background='rgba(255,255,255,0.2)'; this.style.transform='translateY(-2px)'"
            onmouseout="this.style.background='rgba(255,255,255,0.1)'; this.style.transform='translateY(0)'"
        >
            <i class="fas fa-arrow-up"></i>
            Back to Top
        </button>
    </div>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="container">
            <div class="footer-social">
                <a href="https://www.instagram.com/jayneclamp/" target="_blank" rel="noopener" aria-label="Instagram">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="https://www.flickr.com/photos/jayneclamp" target="_blank" rel="noopener" aria-label="Flickr">
                    <i class="fab fa-flickr"></i>
                </a>
            </div>
            <p class="copyright">&copy; 2025 Jayne Clamp | Website Design by Jayne Clamp</p>
        </div>
    </footer>

    <!-- Fuse.js for fuzzy search -->
    <script src="https://cdn.jsdelivr.net/npm/fuse.js@7.0.0"></script>
    
    <script src="../js/main.js"></script>
    <script>
        // Smooth scroll to top function
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // Clear tag filter function
        function clearTagFilter() {
            const searchInput = document.getElementById('tag-search');
            const clearBtn = document.getElementById('clear-filter-btn');
            const resultsSection = document.getElementById('results-section');
            const resultsTitle = document.getElementById('results-title');
            const photosGrid = document.getElementById('photos-grid');
            
            // Clear search input
            searchInput.value = '';
            
            // Hide clear button
            clearBtn.style.display = 'none';
            
            // Hide results section
            resultsSection.style.display = 'none';
            resultsTitle.style.display = 'none';
            photosGrid.innerHTML = '';
            
            // Remove active state from any selected tags
            document.querySelectorAll('.tag-link.active').forEach(tag => {
                tag.classList.remove('active');
            });
            
            // Focus back on search input
            searchInput.focus();
        }
        
        // Show/hide clear button based on input content
        function toggleClearButton() {
            const searchInput = document.getElementById('tag-search');
            const clearBtn = document.getElementById('clear-filter-btn');
            
            if (searchInput.value.trim() !== '') {
                clearBtn.style.display = 'block';
            } else {
                clearBtn.style.display = 'none';
            }
        }
        
        // Initialize tags page
        document.addEventListener('DOMContentLoaded', function() {
            initializeTagsPage();
            
            // Add event listener to search input to show/hide clear button
            const searchInput = document.getElementById('tag-search');
            if (searchInput) {
                searchInput.addEventListener('input', toggleClearButton);
                searchInput.addEventListener('keyup', toggleClearButton);
            }
        });
    </script>
</body>
</html>
